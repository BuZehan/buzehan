(function(){"use strict";var e={728:function(e,t,n){var o=n(9242),s=n(3396);function i(e,t,n,o,i,a){const r=(0,s.up)("HomeView");return(0,s.wg)(),(0,s.j4)(r)}const a={class:"home"};function r(e,t,n,o,i,r){const l=(0,s.up)("HelloWorld");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(l)])}var l=n(7139);const c=e=>((0,s.dD)("data-v-5b6fa14c"),e=e(),(0,s.Cn)(),e),p={class:"container"},h=c((()=>(0,s._)("h2",{class:"header"}," ChatGpt ",-1))),u={ref:"listWrapper",class:"chat-list-wrapper"},d={key:0,class:"oneself"},m={href:"javascript:;"},g=["src"],f={key:1,class:"oneself"},w={href:"javascript:;"},v=["src"],k={key:0,class:"AI"},y=c((()=>(0,s._)("a",{href:"javascript:;"},[(0,s._)("img",{src:"https://i.postimg.cc/jdS60KQW/openai.png",alt:""})],-1))),_={key:1,class:"AI"},b={key:0,href:"javascript:;"},x=c((()=>(0,s._)("img",{src:"https://i.postimg.cc/jdS60KQW/openai.png",alt:""},null,-1))),C=[x],M={key:1},T=["onClick","src"],j={key:2},D={class:"chat-wrapper"},I=["disabled"],S=c((()=>(0,s._)("span",null,"努力响应中... 请稍后",-1))),W=[S],L={id:"threeWrapper",ref:"listWrapper"},H=c((()=>(0,s._)("i",null,"temperature：要使用的采样策略。 接近 1 的值会给模型带来更多风险/创造力，而接近 0 的值会生成明确定义的答案。",-1))),z=["src"];function A(e,t,n,i,a,r){return(0,s.wg)(),(0,s.iD)("div",p,[h,(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.chatList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"chat-item",key:t},["self"===e.from?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[1===e.showType&&1===this.chatModel?((0,s.wg)(),(0,s.iD)("p",d,[(0,s._)("span",null,(0,l.zw)(e.text),1),(0,s._)("a",m,[(0,s._)("img",{src:e.face,alt:""},null,8,g)])])):(0,s.kq)("",!0),0===e.showType&&0===this.chatModel?((0,s.wg)(),(0,s.iD)("p",f,[(0,s._)("span",null,(0,l.zw)(e.text)+"123",1),(0,s._)("a",w,[(0,s._)("img",{src:e.face,alt:""},null,8,v)])])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[1===a.chatModel&&1===e.showType?((0,s.wg)(),(0,s.iD)("p",k,[y,(0,s._)("span",null,(0,l.zw)(e.text),1)])):(0,s.kq)("",!0),0===a.chatModel&&0===e.showType?((0,s.wg)(),(0,s.iD)("p",_,[e.url||e.text?((0,s.wg)(),(0,s.iD)("a",b,C)):(0,s.kq)("",!0),e.url?((0,s.wg)(),(0,s.iD)("span",M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.url,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{key:t,href:""},[(0,s._)("img",{onClick:t=>r.showImgFn(e.url),src:e.url,alt:""},null,8,T)])))),128))])):(0,s.kq)("",!0),e.text?((0,s.wg)(),(0,s.iD)("span",j,(0,l.zw)(e.text),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64))])))),128))],512),(0,s._)("div",D,[(0,s.wy)((0,s._)("input",{class:"chatInput",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.prompt=e)},null,512),[[o.nr,a.prompt]]),(0,s._)("button",{disabled:this.isAble,ref:"sendBtn",onClick:t[1]||(t[1]=(...e)=>r.submitForm&&r.submitForm(...e))},(0,l.zw)(a.currentTime),9,I),(0,s._)("button",{ref:"changeModle",onClick:t[2]||(t[2]=(...e)=>r.changeModel&&r.changeModel(...e))},(0,l.zw)(1===a.chatModel?"作图":"对话"),513)]),(0,s._)("div",{onClick:t[3]||(t[3]=(...e)=>r.close&&r.close(...e)),class:(0,l.C_)([a.isLoading?"loading":"close"]),ref:"loading"},W,2),(0,s._)("div",{class:(0,l.C_)([a.isStart?"isStart":"close"])},[(0,s._)("div",L,null,512),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.api_key=e),type:"password",placeholder:"请输入API keys"},null,512),[[o.nr,a.api_key]]),(0,s._)("p",null,[(0,s.Uk)(" temperature  "),(0,s.wy)((0,s._)("input",{class:"range",type:"range",ref:"range",name:"",id:"",onChange:t[5]||(t[5]=(...t)=>e.changeRange&&e.changeRange(...t)),"onUpdate:modelValue":t[6]||(t[6]=e=>a.temperature=e),min:"0",max:"1",step:"0.1"},null,544),[[o.nr,a.temperature]]),(0,s._)("span",null,(0,l.zw)(a.temperature),1)]),(0,s._)("button",{onClick:t[7]||(t[7]=(...e)=>r.ok&&r.ok(...e))},"确  认"),H],2),(0,s._)("div",{onClick:t[9]||(t[9]=(...e)=>r.closeShowImgFn&&r.closeShowImgFn(...e)),class:(0,l.C_)({showImgUrl:a.showImgUrl})},[(0,s._)("img",{onClick:t[8]||(t[8]=(...e)=>r.closeShowImgFn&&r.closeShowImgFn(...e)),src:a.showImgUrl,alt:""},null,8,z)],2)])}n(7658);var F=n(5939),U=n(1114),O=n(4543),P=(n(5461),n(1989)),q=n(9469),E=e=>{console.log("container :",e);const t=new U.xsS,n=new U.cPb(75,e.offsetWidth/2/(e.offsetHeight/2),.1,1e3);n.position.set(5,2,8),t.add(n);var o=new U.cek(16777215);o.position.set(40,20,30),t.add(o);const s=new P._;s.setDecoderPath("./draco/");var i=new U.Mig(16777215);t.add(i);let a=null;const r=new q.E;r.setDRACOLoader(s),r.load("./LittlestTokyo.glb",(function(e){const n=e.scene;n.position.set(1,1,0),n.scale.set(.02,.02,.02),t.add(n),a=new U.Xcj(n),a.clipAction(e.animations[0]).play(),h()}));const l=new U.CP7;l.outputEncoding=U.knz,l.setSize(e.offsetWidth,e.offsetHeight),e.appendChild(l.domElement),l.setClearColor(12178431,1);const c=new O.z(n,l.domElement);c.enableDamping=!0;const p=new U.SUY;function h(){c.update(),l.render(t,n);const e=p.getDelta();try{a.update(e)}catch(o){}c.update(),requestAnimationFrame(h)}h(),window.addEventListener("resize",(()=>{n.aspect=e.innerWidth/e.innerHeight,n.updateProjectionMatrix(),l.setSize(e.innerWidth,e.innerHeight),l.setPixelRatio(window.devicePixelRatio)})),window.addEventListener("dblclick",(()=>{const e=document.fullscreenElement;e?document.exitFullscreen():l.domElement.requestFullscreen()})),console.log("scene :",t)},K=n(5574),V={name:"HelloWorld",props:{msg:String},data(){return{showImgUrl:"",chatModel:1,isStart:!1,currentTime:"发送",isAble:!1,isLoading:!1,api_key:"",prompt:"",chatMsg:"",prompt:"",max_tokens:1e3,model:"text-davinci-003",mobile:!0,response:"",urlData:"",chatList:[{from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",text:"嗨 靓仔，很高兴认识你！",showType:1},{from:"bot",face:K,url:"",text:"想画什么,详细描述给我",showType:0},{from:"self",face:K,text:"嗨，很高兴认识你",showType:1}],temperature:0,baseUrl:"https://api.openai.com/v1/completions"}},mounted(){this.isStart=!0,E(this.$refs.listWrapper),console.log("object :",this.$refs.listWrapper)},methods:{showImgFn(e){this.showImgUrl=e},closeShowImgFn(){this.showImgUrl=""},changeModel(){this.chatModel=1===this.chatModel?0:1,this.baseUrl=1===this.chatModel?"https://api.openai.com/v1/completions":"https://api.openai.com/v1/images/generations",console.log(this.chatModel)},submitForm(){let e=null;if(e=1===this.chatModel?{prompt:this.prompt,model:this.model,max_tokens:this.max_tokens}:{prompt:this.prompt,n:1,size:"1024x1024"},this.isAble||(this.isLoading=!0),this.chatList.push({from:"self",face:K,text:this.prompt,showType:this.chatModel}),F.Z.post(this.baseUrl,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.api_key}}).then((e=>{this.isLoading=!1,1===this.chatModel?(this.response=e.data.choices[0].text,this.chatList.push({from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",text:this.response,showType:1})):0===this.chatModel&&(this.response=e.data,this.chatList.push({from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",url:this.response.data,showType:0})),console.log(this.response)})).catch((e=>{this.isLoading=!0,this.$refs.loading.children[0].innerText=e,console.log("error :",e),setTimeout((()=>{this.isLoading=!1}),1e3)})),this.prompt="",this.isAble=!0,!0===this.isAble){let e=5,t=setInterval((()=>{this.currentTime=0==e?"发送":e,0===e&&clearInterval(t),e--}),1e3);return console.log("禁用按钮"),void setTimeout((()=>{this.isAble=!1,console.log("解除禁用")}),5e3)}},close(){this.isLoading=!1},ok(){this.isStart=!1}},watch:{chatList:{handler(e){this.$nextTick((()=>{let e=this.$refs.listWrapper;e.scrollTop=e.scrollHeight}))},immediate:!0,deep:!0}}},Q=n(89);const R=(0,Q.Z)(V,[["render",A],["__scopeId","data-v-5b6fa14c"]]);var Y=R,Z={name:"HomeView",components:{HelloWorld:Y}};const $=(0,Q.Z)(Z,[["render",r]]);var B=$,G={name:"APP",components:{HomeView:B}};const X=(0,Q.Z)(G,[["render",i]]);var J=X,N=n(2483);const ee=[{path:"/",name:"home",component:B}],te=(0,N.p7)({history:(0,N.r5)(),routes:ee});var ne=te,oe=n(65),se=n(2415),ie=(0,oe.MT)({state:{},getters:{},mutations:{},actions:{},modules:{plugins:[(0,se.Z)({key:"net-ease-cloud-music",paths:["ChatInfo"]})]}});(0,o.ri)(J).use(ie).use(ne).mount("#app")},5574:function(e,t,n){e.exports=n.p+"static/img/avatar.9ef15ea1.jpg"}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,i){if(!o){var a=1/0;for(p=0;p<e.length;p++){o=e[p][0],s=e[p][1],i=e[p][2];for(var r=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(r=!1,i<a&&(a=i));if(r){e.splice(p--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[o,s,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p=""}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,a=o[0],r=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var p=l(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(p)},o=self["webpackChunkmy_chat_gpt"]=self["webpackChunkmy_chat_gpt"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(728)}));o=n.O(o)})();