(function(){"use strict";var t={6138:function(t,e,o){var s=o(9242),n=o(3396);function i(t,e,o,s,i,r){const a=(0,n.up)("HomeView");return(0,n.wg)(),(0,n.j4)(a)}const r={class:"home"};function a(t,e,o,s,i,a){const l=(0,n.up)("HelloWorld");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(l,{msg:"Welcome to Your Vue.js App"})])}var l=o(7139);const c=t=>((0,n.dD)("data-v-79bc319a"),t=t(),(0,n.Cn)(),t),p={class:"container"},h=c((()=>(0,n._)("h2",{class:"header"}," ChatGpt ",-1))),u={ref:"listWrapper",class:"chat-list-wrapper"},m={key:0,class:"oneself"},d={href:"javascript:;"},g=["src"],f={key:1,class:"oneself"},w={href:"javascript:;"},v=["src"],_={key:0,class:"AI"},y=c((()=>(0,n._)("a",{href:"javascript:;"},[(0,n._)("img",{src:"https://i.postimg.cc/jdS60KQW/openai.png",alt:""})],-1))),k={key:1,class:"AI"},b={key:0,href:"javascript:;"},x=c((()=>(0,n._)("img",{src:"https://i.postimg.cc/jdS60KQW/openai.png",alt:""},null,-1))),I=[x],T={key:1},j=["onClick","src"],M={key:2},C={class:"chat-wrapper"},D=["disabled"],S=c((()=>(0,n._)("span",null,"努力响应中... 请稍后",-1))),A=[S],L=c((()=>(0,n._)("i",null,"temperature：要使用的采样策略。 接近 1 的值会给模型带来更多风险/创造力，而接近 0 的值会生成明确定义的答案。",-1))),U=["src"];function W(t,e,o,i,r,a){return(0,n.wg)(),(0,n.iD)("div",p,[h,(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.chatList,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"chat-item",key:e},["self"===t.from?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[1===t.showType&&1===t.chatModel?((0,n.wg)(),(0,n.iD)("p",m,[(0,n._)("span",null,(0,l.zw)(t.text),1),(0,n._)("a",d,[(0,n._)("img",{src:t.face,alt:""},null,8,g)])])):((0,n.wg)(),(0,n.iD)("p",f,[(0,n._)("span",null,(0,l.zw)(t.text),1),(0,n._)("a",w,[(0,n._)("img",{src:t.face,alt:""},null,8,v)])]))],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[1===r.chatModel&&1===t.showType?((0,n.wg)(),(0,n.iD)("p",_,[y,(0,n._)("span",null,(0,l.zw)(t.text),1)])):(0,n.kq)("",!0),0===r.chatModel&&0===t.showType?((0,n.wg)(),(0,n.iD)("p",k,[t.url||t.text?((0,n.wg)(),(0,n.iD)("a",b,I)):(0,n.kq)("",!0),t.url?((0,n.wg)(),(0,n.iD)("span",T,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.url,((t,e)=>((0,n.wg)(),(0,n.iD)("span",{key:e,href:""},[(0,n._)("img",{onClick:e=>a.showImgFn(t.url),src:t.url,alt:""},null,8,j)])))),128))])):(0,n.kq)("",!0),t.text?((0,n.wg)(),(0,n.iD)("span",M,(0,l.zw)(t.text),1)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)],64))])))),128))],512),(0,n._)("div",C,[(0,n.wy)((0,n._)("input",{class:"chatInput",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.prompt=t)},null,512),[[s.nr,r.prompt]]),(0,n._)("button",{disabled:this.isAble,ref:"sendBtn",onClick:e[1]||(e[1]=(...t)=>a.submitForm&&a.submitForm(...t))},(0,l.zw)(r.currentTime),9,D),(0,n._)("button",{ref:"changeModle",onClick:e[2]||(e[2]=(...t)=>a.changeModel&&a.changeModel(...t))},(0,l.zw)(1===r.chatModel?"作图":"对话"),513)]),(0,n._)("div",{onClick:e[3]||(e[3]=(...t)=>a.close&&a.close(...t)),class:(0,l.C_)([r.isLoading?"loading":"close"]),ref:"loading"},A,2),(0,n._)("div",{class:(0,l.C_)([r.isStart?"isStart":"close"])},[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.api_key=t),type:"password",placeholder:"请输入API keys"},null,512),[[s.nr,r.api_key]]),(0,n._)("p",null,[(0,n.Uk)(" temperature  "),(0,n.wy)((0,n._)("input",{class:"range",type:"range",ref:"range",name:"",id:"",onChange:e[5]||(e[5]=(...e)=>t.changeRange&&t.changeRange(...e)),"onUpdate:modelValue":e[6]||(e[6]=t=>r.temperature=t),min:"0",max:"1",step:"0.1"},null,544),[[s.nr,r.temperature]]),(0,n._)("span",null,(0,l.zw)(r.temperature),1)]),(0,n._)("button",{onClick:e[7]||(e[7]=(...t)=>a.ok&&a.ok(...t))},"确  认"),L],2),(0,n._)("div",{onClick:e[9]||(e[9]=(...t)=>a.closeShowImgFn&&a.closeShowImgFn(...t)),class:(0,l.C_)({showImgUrl:r.showImgUrl})},[(0,n._)("img",{onClick:e[8]||(e[8]=(...t)=>a.closeShowImgFn&&a.closeShowImgFn(...t)),src:r.showImgUrl,alt:""},null,8,U)],2)])}o(7658);var F=o(5939),H=o(5574),O={name:"HelloWorld",props:{msg:String},data(){return{showImgUrl:"",chatModel:1,isStart:!1,currentTime:"发送",isAble:!1,isLoading:!1,api_key:"",prompt:"",chatMsg:"",prompt:"",max_tokens:1e3,model:"text-davinci-003",mobile:!0,response:"",urlData:"",chatList:[{from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",text:"嗨 靓仔，很高兴认识你！",showType:1},{from:"bot",face:H,url:"",text:"想画什么，详细描述给我",showType:0},{from:"self",face:H,text:"嗨，很高兴认识你",showType:1}],temperature:0,baseUrl:"https://api.openai.com/v1/completions"}},mounted(){this.isStart=!0},methods:{showImgFn(t){this.showImgUrl=t},closeShowImgFn(){this.showImgUrl=""},changeModel(){this.chatModel=1===this.chatModel?0:1,this.baseUrl=1===this.chatModel?"https://api.openai.com/v1/completions":"https://api.openai.com/v1/images/generations",console.log(this.chatModel)},submitForm(){if(""===this.api_key)return void alert("请传入ApiKey,然后进行操作");let t=null;if(t=1===this.chatModel?{prompt:this.prompt,model:this.model,max_tokens:this.max_tokens}:{prompt:this.prompt,n:1,size:"1024x1024"},this.isAble||(this.isLoading=!0),this.chatList.push({from:"self",face:H,text:this.prompt}),F.Z.post(this.baseUrl,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.api_key}}).then((t=>{this.isLoading=!1,1===this.chatModel?(this.response=t.data.choices[0].text,this.chatList.push({from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",text:this.response,showType:1})):0===this.chatModel&&(this.response=t.data,this.chatList.push({from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",url:this.response.data,showType:0})),console.log(this.response)})).catch((t=>{this.isLoading=!0,this.$refs.loading.children[0].innerText=t,console.log("error :",t),setTimeout((()=>{this.isLoading=!1}),1e3)})),this.prompt="",this.isAble=!0,!0===this.isAble){let t=5,e=setInterval((()=>{this.currentTime=0==t?"发送":t,0===t&&clearInterval(e),t--}),1e3);return console.log("禁用按钮"),void setTimeout((()=>{this.isAble=!1,console.log("解除禁用")}),5e3)}},close(){this.isLoading=!1},ok(){this.isStart=!1}},watch:{chatList:{handler(t){this.$nextTick((()=>{let t=this.$refs.listWrapper;t.scrollTop=t.scrollHeight}))},immediate:!0,deep:!0}}},z=o(89);const K=(0,z.Z)(O,[["render",W],["__scopeId","data-v-79bc319a"]]);var V=K,q={name:"HomeView",components:{HelloWorld:V}};const P=(0,z.Z)(q,[["render",a]]);var Q=P,Y={name:"APP",components:{HomeView:Q}};const Z=(0,z.Z)(Y,[["render",i]]);var $=Z,B=o(2483);const R=[{path:"/",name:"home",component:Q}],E=(0,B.p7)({history:(0,B.r5)(),routes:R});var G=E,J=o(65),N=o(2415),X=(0,J.MT)({state:{},getters:{},mutations:{},actions:{},modules:{plugins:[(0,N.Z)({key:"net-ease-cloud-music",paths:["ChatInfo"]})]}});(0,s.ri)($).use(X).use(G).mount("#app")},5574:function(t,e,o){t.exports=o.p+"static/img/avatar.9ef15ea1.jpg"}},e={};function o(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,s,n,i){if(!s){var r=1/0;for(p=0;p<t.length;p++){s=t[p][0],n=t[p][1],i=t[p][2];for(var a=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((function(t){return o.O[t](s[l])}))?s.splice(l--,1):(a=!1,i<r&&(r=i));if(a){t.splice(p--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var p=t.length;p>0&&t[p-1][2]>i;p--)t[p]=t[p-1];t[p]=[s,n,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p=""}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,i,r=s[0],a=s[1],l=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(l)var p=l(o)}for(e&&e(s);c<r.length;c++)i=r[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(p)},s=self["webpackChunkmy_chat_gpt"]=self["webpackChunkmy_chat_gpt"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(6138)}));s=o.O(s)})();