(function(){"use strict";var t={4295:function(t,e,n){var o=n(9242),i=n(3396);function s(t,e,n,o,s,r){const a=(0,i.up)("HomeView");return(0,i.wg)(),(0,i.j4)(a)}const r={class:"home"};function a(t,e,n,o,s,a){const c=(0,i.up)("HelloWorld");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(c,{msg:"Welcome to Your Vue.js App"})])}var c=n(7139);const l=t=>((0,i.dD)("data-v-426c359e"),t=t(),(0,i.Cn)(),t),p={class:"container"},u=l((()=>(0,i._)("h2",{class:"header"}," ChatGpt ",-1))),h={ref:"listWrapper",class:"chat-list-wrapper"},f={key:0,class:"oneself"},m={href:"javascript:;"},d=["src"],g={key:1,class:"AI"},v=l((()=>(0,i._)("a",{href:"javascript:;"},[(0,i._)("img",{src:"https://i.postimg.cc/jdS60KQW/openai.png",alt:""})],-1))),b={class:"chat-wrapper"},_=["disabled"],w=l((()=>(0,i._)("span",null,"努力响应中... 请稍后",-1))),x=[w];function y(t,e,n,s,r,a){return(0,i.wg)(),(0,i.iD)("div",p,[u,(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.chatList,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"chat-item",key:e},["self"===t.from?((0,i.wg)(),(0,i.iD)("p",f,[(0,i._)("span",null,(0,c.zw)(t.text),1),(0,i._)("a",m,[(0,i._)("img",{src:t.face,alt:""},null,8,d)])])):((0,i.wg)(),(0,i.iD)("p",g,[v,(0,i._)("span",null,(0,c.zw)(t.text),1)]))])))),128))],512),(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{class:"chatInput",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.prompt=t)},null,512),[[o.nr,r.prompt]]),(0,i._)("button",{disabled:this.isAble,ref:"sendBtn",onClick:e[1]||(e[1]=(...t)=>a.submitForm&&a.submitForm(...t))},(0,c.zw)(r.currentTime),9,_)]),(0,i._)("div",{onClick:e[2]||(e[2]=(...t)=>a.close&&a.close(...t)),class:(0,c.C_)([r.isLoading?"loading":"close"]),ref:"loading"},x,2)])}n(7658);var k=n(5939),j=n(5574),T={name:"HelloWorld",props:{msg:String},data(){return{currentTime:"发送",isAble:!1,isLoading:!1,api_key:"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",prompt:"",chatMsg:"",prompt:"",max_tokens:1e3,model:"text-davinci-003",mobile:!0,response:"",chatList:[{from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",text:"嗨，很高兴认识你！一般来说，每分钟提问你不能超过两次。尽管可能有某些情况在短时间内可以接受多次提问，但一般情况下，推荐的最大问答频率是一分钟不超过两次。"},{from:"self",face:j,text:"嗨，很高兴认识你"}]}},methods:{submitForm(){let t={prompt:this.prompt,model:this.model,max_tokens:this.max_tokens};if(this.isAble||(this.isLoading=!0),this.chatList.push({from:"self",face:j,text:this.prompt}),k.Z.post("https://api.openai.com/v1/completions",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.api_key}}).then((t=>{this.isLoading=!1,this.response=t.data.choices[0].text,this.chatList.push({from:"bot",face:"https://i.postimg.cc/jdS60KQW/openai.png",text:this.response}),console.log(this.response)})).catch((t=>{this.isLoading=!0,this.$refs.loading.children[0].innerText=t,setTimeout((()=>{this.isLoading=!1}),1e3)})),this.prompt="",this.isAble=!0,!0===this.isAble){let t=5,e=setInterval((()=>{this.currentTime=0==t?"发送":t,0===t&&clearInterval(e),t--}),1e3);return console.log("禁用按钮"),void setTimeout((()=>{this.isAble=!1,console.log("解除禁用")}),5e3)}},close(){this.isLoading=!1}},watch:{chatList:{handler(t){this.$nextTick((()=>{let t=this.$refs.listWrapper;t.scrollTop=t.scrollHeight}))},immediate:!0,deep:!0}}},L=n(89);const A=(0,L.Z)(T,[["render",y],["__scopeId","data-v-426c359e"]]);var O=A,C={name:"HomeView",components:{HelloWorld:O}};const W=(0,L.Z)(C,[["render",a]]);var D=W,H={name:"APP",components:{HomeView:D}};const I=(0,L.Z)(H,[["render",s]]);var P=I,z=n(2483);const F=[{path:"/",name:"home",component:D}],V=(0,z.p7)({history:(0,z.r5)(),routes:F});var Z=V,K=n(65),S=n(2415),B=(0,K.MT)({state:{},getters:{},mutations:{},actions:{},modules:{plugins:[(0,S.Z)({key:"net-ease-cloud-music",paths:["ChatInfo"]})]}});(0,o.ri)(P).use(B).use(Z).mount("#app")},5574:function(t,e,n){t.exports=n.p+"static/img/avatar.9ef15ea1.jpg"}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,s){if(!o){var r=1/0;for(p=0;p<t.length;p++){o=t[p][0],i=t[p][1],s=t[p][2];for(var a=!0,c=0;c<o.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(a=!1,s<r&&(r=s));if(a){t.splice(p--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var p=t.length;p>0&&t[p-1][2]>s;p--)t[p]=t[p-1];t[p]=[o,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p=""}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,s,r=o[0],a=o[1],c=o[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)var p=c(n)}for(e&&e(o);l<r.length;l++)s=r[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(p)},o=self["webpackChunkmy_chat_gpt"]=self["webpackChunkmy_chat_gpt"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4295)}));o=n.O(o)})();